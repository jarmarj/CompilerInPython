from mainLexico import main
from sintaxClass import Sintax

productions = {
    1: ['MAIN', 'DECLARACIONVARIABLES', 'DECLARACIONFUNCIONES'],
    2: ['variables', ':', '//{', 'VARIABLES', '//}'],
    3: ['(', 'TIPO', ')', 'LISTAVARIABLES', '::', 'VARIABLES'],
    4: ['nulo'],
    5: ['identificador', 'LISTAVARIABLESPRIMA'],
    6: [';', 'LISTAVARIABLES'],
    7: ['nulo'],
    8: ['<', 'bloque', 'principal', '>', 'BLOQUE'],
    9: ['entero'],
    10: ['cadena'],
    11: ['logico'],
    12: ['lista'],
    13: ['decimal'],
    14: ['DECLARAFUNCION', 'DECLARACIONFUNCIONES'],
    15: ['nulo'],
    16: ['(', 'TIPO', ')', 'identificador', 'PARAMETROS', 'BLOQUE', 'RETURN', 'DECLARAFUNCION'],
    17: ['nulo'],
    18: ['begin', 'INSTRUCCIONES', 'end'],
    19: ['{', 'LISTAPARAMETROS', '}'],
    20: ['identificador', 'LISTAPARAMETROSPRIMA'],
    21: ['nulo'],
    22: [';', 'LISTAPARAMETROS'],
    23: ['nulo'],
    24: ['return', 'LISTARETURN'],
    25: ['identificador', 'LISTARETURNPRIMA'],
    26: ['LISTARETURN'],
    27: ['nulo'],
    28: ['INSTRUCCION', 'INSTRUCCIONES'],
    29: ['nulo'],
    30: ['identificador', ':=', 'LLAMADAFUNCION'],
    31: ['mientras', 'BOOLEXP', 'BLOQUE'],
    32: ['ciclo', 'BLOQUE', 'BOOLEXP'],
    33: ['repetir', 'BLOQUE', 'BOOLEXP'],
    34: ['si', 'BOOLEXP', 'BLOQUE', 'ELSEIF', 'ELSE'],
    35: ['para', 'identificador', 'dentro', 'RANGO', 'BLOQUE'],
    36: ['imprimir', '(', 'VARIABLESIMPRIMIR', ')'],
    37: ['identificador', '[', 'LISTAPARAMETROS', ']'],
    38: ['FUNCION_BUILT_IN'],
    39: ['longitud', '(', 'identificador', ')'],
    40: ['esentero', '(', 'identificador', ')'],
    41: ['esdecimal', '(', 'identificador', ')'],
    42: ['entero', '(', 'identificador', ')'],
    43: ['decimal', '(', 'identificador', ')'],
    44: ['leer', '(', ')'],
    45: ['absoluto', '(', 'EXPARITM', ')'],
    46: ['cadena', '(', 'EXPARITM', ')'],
    47: ['potencia', '(', 'EXPARITM', ')'],
    48: ['redondear', '(', 'EXPARITM', ')'],
    49: ['sumar', '(', 'identificador', ')'],
    50: ['minimo', '(', 'identificador', ')'],
    51: ['maximo', '(', 'identificador', ')'],
    # 39: ['(', 'identificador', ')'],
    # 40: ['(', 'identificador', ')'],
    # 41: ['(', 'identificador', ')'],
    # 42: ['(', 'identificador', ')'],
    # 43: ['(', 'identificador', ')'],
    # 44: ['leer', '(', ')'],
    # 45: ['(', 'EXPARITM', ')'],
    # 46: ['(', 'EXPARITM', ')'],
    # 47: ['(', 'EXPARITM', ')'],
    # 48: ['(', 'EXPARITM', ')'],
    # 49: ['(', 'identificador', ')'],
    # 50: ['(', 'identificador', ')'],
    # 51: ['(', 'identificador', ')'],
    52: ['identificador', 'VARIABLESPRIMA'],
    53: ['texto', 'VARIABLESPRIMA'],
    54: [',', 'VARIABLESIMPRIMIR'],
    55: ['nulo'],
    56: ['sino', 'BOOLEXP', 'BLOQUE', 'ELSEIF'],
    57: ['nulo'],
    58: ['nulo'],
    59: ['otro', 'BLOQUE'],
    60: ['rango', '(', 'VALOR1', ')'],
    61: ['EXPARITM', 'VALOR2'],
    62: ['nulo'],
    63: [';', 'EXPARITM', 'VALOR3'],
    64: ['nulo'],
    65: [';', 'EXPARITM'],
    66: ['BOOLTERM', 'BOOLEXP_PRIMA'],
    67: ['o', 'BOOLTERM', 'BOOLEXP_PRIMA'],
    68: ['nulo'],
    69: ['BOOLFACTOR', 'BOOLTERM_PRIMA'],
    70: ['y', 'BOOLFACTOR', 'BOOLTERM_PRIMA'],
    71: ['nulo'],
    72: ['~~', 'BOOLFACTOR'],
    73: ['(', 'RELTERM', 'RELTERMP', ')'],
    74: ['RELTERM', 'RELTERMP'],
    75: ['OPERADOR', 'RELTERM'],
    76: ['nulo'],
    77: ['EXPARITM'],
    78: ['TERMINO', 'EXPPRIMA'],
    79: ['+:', 'TERMINO', 'EXPPRIMA'],
    80: ['-:', 'TERMINO', 'EXPPRIMA'],
    81: ['nulo'],
    82: ['FACTOR', 'TERMPRIMO'],
    83: ['*:', 'FACTOR', 'TERMPRIMO'],
    84: ['/:', 'FACTOR', 'TERMPRIMO'],
    85: ['nulo'],
    86: ['identificador'],
    87: ['n√∫mero'],
    88: ['<:'],
    89: ['>:'],
    90: ['<='],
    91: ['>='],
    92: [':=:='],
    93: [':!=']
}


parse_table = [
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '1', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '2', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '4', '', '3', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['5', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '7', '', '', '6', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '8', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '9', '10', '11', '12', '13', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '14', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '15'],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '16', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '17'],
    ['', '', '', '', '', '', '', '', '', '18', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '19', '', ''],
    ['20', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '21', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '21', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '22', '', '', '', '23', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '23', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '24', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['25', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['26', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '27', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '27'],
    ['28', '', '', '', '', '', '', '', '', '', '29', '', '28', '28', '28', '28', '', '28', '28', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['30', '', '', '', '', '', '', '', '', '', '', '', '31', '32', '33', '35', '', '34', '36', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['37', '', '', '', '', '38', '', '', '', '', '', '', '', '', '', '', '', '', '', '38', '38', '38', '38', '38', '38', '38', '38', '38', '38', '38', '38', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '46', '', '', '', '', '', '', '', '', '', '', '', '', '', '39', '40', '41', '42', '43', '44', '45', '47', '48', '49', '50', '51', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['52', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '53', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '55', '', '', '', '', '', '', '54', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['57', '', '', '', '', '', '', '', '', '', '57', '', '57', '57', '57', '57', '', '57', '57', '', '', '', '', '', '', '', '', '', '', '', '', '', '56', '57',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['58', '', '', '', '', '', '', '', '', '', '58', '', '58', '58', '58', '58', '', '58', '58', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '59',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '60', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['61', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '61', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '62', '63', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '64', '65', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['66', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '66', '', '', '', '', '66', '', '', '', '', '', '', '', '', '66', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['68', '', '', '', '', '', '', '', '', '68', '68', '', '68', '68', '68', '68', '', '68', '68', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '67', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['69', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '69', '', '', '', '', '69', '', '', '', '', '', '', '', '', '69', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['71', '', '', '', '', '', '', '', '', '71', '71', '', '71', '71', '71', '71', '', '71', '71', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '70', '71', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['74', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '74', '', '', '', '', '73', '', '', '', '', '', '', '', '', '72', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['76', '', '', '', '', '', '', '', '', '76', '76', '', '76', '76', '76', '76', '', '76', '76', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '76', '76', '', '', '', '', '', '', '', '76', '', '', '', '', '', '', '', '', '', '', '', '', '75', '75', '75', '75', '75', '75', '', '', ''],
    ['77', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '77', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['78', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '78', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['81', '', '', '', '', '', '', '', '', '81', '81', '', '81', '81', '81', '81', '', '81', '81', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '81', '81', '', '', '', '', '', '', '', '81', '81', '', '', '', '', '', '', '', '79', '80', '', '', '81', '81', '81', '81', '81', '81', '', '', ''],
    ['82', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '82', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['85', '', '', '', '', '', '', '', '', '85', '85', '', '85', '85', '85', '85', '', '85', '85', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '85', '85', '', '', '', '', '', '', '', 85, '85', '', '', '', '', '', '', '', '85', '85', '84', '83', '85', '85', '85', '85', '85', '85', '', '', ''],
    ['86', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '87', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',
     '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '88', '89', '90', '91', '92', '93', '', '', ''],
]

terminals = ['identificador', 'variables', 'bloque', 'principal', 'entero', 'cadena', 'logico', 'lista', 'decimal',
             'begin', 'end', 'return', 'mientras', 'ciclo', 'repetir', 'para', 'dentro', 'si', 'imprimir', 'longitud',
             'esentero', 'esdecimal', 'entero', 'decimal', 'leer', 'absoluto', 'redondear', 'potencia', 'sumar',
             'minimo', 'maximo', 'texto', 'sino', 'otro', 'y', 'o', 'rango', 'numero', ':', '//{', '//}', '::', '(',
             ')', ';', '<', '>', '[', ']', ':=', ',', '~~', '+:', '-:', '/:', '*:', '<:', '>:', '<=', '>=', ':=:=', ':!=', '{', '}']

non_terminals = ['PROGRAMA', 'DECLARACIONVARIABLES', 'VARIABLES', 'LISTAVARIABLES', 'LISTAVARIABLESPRIMA',
                 'MAIN', 'TIPO', 'DECLARACIONFUNCIONES', 'DECLARAFUNCION', 'BLOQUE', 'PARAMETROS',
                 'LISTAPARAMETROS', 'LISTAPARAMETROSPRIMA', 'RETURN', 'LISTARETURN', 'LISTARETURNPRIMA',
                 'INSTRUCCIONES', 'INSTRUCCION', 'LLAMADAFUNCION', 'FUNCION_BUILT_IN', 'VARIABLESIMPRIMIR',
                 'VARIABLESPRIMA', 'ELSEIF', 'ELSE', 'RANGO', 'VALOR1', 'VALOR2', 'VALOR3', 'BOOLEXP',
                 'BOOLEXP_PRIMA', 'BOOLTERM', 'BOOLTERM_PRIMA', 'BOOLFACTOR', 'RELTERMP', 'RELTERM',
                 'EXPARITM', 'EXPPRIMA', 'TERMINO', 'TERMPRIMO', 'FACTOR', 'OPERADOR']

if __name__ == "__main__":
    # tokens = ['<', 'bloque', 'principal', '>']
    tokens = main()
    start_symbols = ['$', 'PROGRAMA']
    s = Sintax(productions, terminals, non_terminals, parse_table, start_symbols, tokens)
    s.parse()
    